#!/bin/sh
if [ "$EUID" = 0 ]; then
  eval "$@"
elif [ ! -z $(command -v sudo) ]; then
  sudo -v
  if [ $? -eq 0 ]; then
    eval "sudo sh -c '$@'"
  else
    su -c "$@"
  fi
else
  su -c "$@"
fi
